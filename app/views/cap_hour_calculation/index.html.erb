<p id="notice"><%= notice %></p>

<h1>Cap_Hour_calculation</h1>

<div class="col-md-12">
  <button type="button" class="btn btn-success">Export to CSV</button>
</div>
<label>View with Leaves:</label>

<div class="btn-group" data-toggle="buttons">
  <label class="btn btn-outline-info">
    <input type="radio" autocomplete="off"> Yes
  </label>
  <label class="btn btn-outline-info active">
    <input type="radio" autocomplete="off"> No
  </label>
</div>

<span class="tag tag-default"><%=@this_iteration.start_date.to_s %>123</span></h3>

<div class="mycenter">
  <table id="jqGrid"></table>
  <div id="jqGridPager"></div>
</div>



<script type="text/javascript">

  $(document).ready(function () {
    var pageWidth = 1280;

    $("#jqGrid").jqGrid({
      url: "/cap_hour_calculation.json",
      datatype: "json",
      colNames: ['Project Name', 'Employee', 'Date', 'Hours', 'Full Project Name', 'Porject Rate'],
      colModel: [
        {
          name: "project_name",
          index: "project_name",
          width: (pageWidth*(30/100))
        },{
          name: "employee_name",
          index: "employee_name",
          width: (pageWidth*(15/100))
        },/*{
          label: "Team",
          name: "team_name",
          width: (pageWidth*(5/100))
        },{
          label: "Employee Type",
          name: "employee_employment_type",
          width: (pageWidth*(5/100))
        },*/{
          name: "date",
          index: "date",
          formatter: 'date', formatoptions: {newformat: 'd-M-Y'}, datefmt: 'd-M-Y',
          width: (pageWidth*(10/100))
        },{
          name: "result",
          index: "result",
          formatter:'number', formatoptions: { decimalPlaces: 2},
          width: (pageWidth*(10/100))
        },{
          name: "project_name",
          index: "project_name",
          width: (pageWidth*(25/100))
        },{
          name: "employee_hourly_rate",
          index: "employee_hourly_rate",
          width: (pageWidth*(10/100))
        },/*{
          label: "Capitalizable Rate",
          name: "capitalizable_group_description",
          width: (pageWidth*(5/100))
        },{
          label: "Team Dedication Weight",
          name: "dedication_weight",
          width: (pageWidth*(5/100))
        },{
          label: "Capitalizable Day",
          name: "result",
          width: (pageWidth*(5/100))
        }*/
      ],
      loadonce: true, //To ensure paging button is functioning
      pager: "#jqGridPager",
      height: 445,
      rowNum: 20,
      sortname : 'employee_name',
      viewrecords: true,
    });

    // We need to have a navigation bar in order to add custom buttons to it
    $('#jqGrid').navGrid('#jqGridPager',
        { edit: false, add: false, del: false, search: true, refresh: true, view: false, position: "left", cloneToTop: true });

    // add first custom button
    $('#jqGrid').navButtonAdd('#jqGridPager',
        {
          buttonicon: "ui-icon-calculator",
          title: "Column chooser",
          caption: "Columns",
          position: "last",
          onClickButton: function() {
            // call the column chooser method
            jQuery("#jqGrid").jqGrid('columnChooser');
          }
        });
  });


</script>
